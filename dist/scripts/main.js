!function(a){var t=!1,n=".cmb2-qtranslate,[data-cmb2-qtranslate]",e=["input","textarea"],r=e.join(","),s=".cmb-td",i={qTranslateInitMetabox:function(t){var o=t.closest("form").get(0),l=t.find(n);t.find(".qtranxs-translatable").each(function(){a(this).removeClass("qtranxs-translatable"),qTranslateConfig.qtx.removeContentHook(this)}),l.each(function(t,n){var l=a(n);if(!l.is(r))return void alert("Translation for selected CMB2 field #"+l.attr("id")+" is not supported. Supported fields are: "+e.join(", "));l.hasClass("qtranxs-translatable")||l.addClass("qtranxs-translatable"),qTranslateConfig.qtx.addContentHookB(n,o);var c=i.createSetOfLSB();l.closest(s).prepend(c)})},createSetOfLSB:function(){var a=qtranxj_ce("ul",{className:qTranslateConfig.lsb_style_wrap_class}),t=qTranslateConfig.language_config;qTranslateConfig.tabSwitches||(qTranslateConfig.tabSwitches={});for(var n in t){var e=t[n],r=qTranslateConfig.flag_location,s=qtranxj_ce("li",{lang:n,className:"qtranxs-lang-switch",onclick:qTranslateConfig.qtx.switchActiveLanguage},a);qtranxj_ce("img",{src:r+e.flag},s),qtranxj_ce("span",{innerHTML:e.name},s),qTranslateConfig.activeLanguage==n&&s.classList.add(qTranslateConfig.lsb_style_active_class),qTranslateConfig.tabSwitches[n]||(qTranslateConfig.tabSwitches[n]=[]),qTranslateConfig.tabSwitches[n].push(s)}return a},initNewRow:function(t,n){var e=qTranslateConfig.language_config,r=a(n);for(var s in e)e.hasOwnProperty(s)&&r.find('input[name="['+s+']"][type=hidden]').remove();r.find('input[name="[qtranslate-separator]"][type=hidden]').remove(),r.find(".qtranxs-lang-switch-wrap").remove(),i.qTranslateInitMetabox(r)}};a(window).load(function(){return t?void 0:(t=!0,"object"!=typeof qTranslateConfig||"object"!=typeof qTranslateConfig.qtx?void console.log("ERROR: qTranslate JS NOT LOADED!"):void CMB2.metabox().each(function(){var t=a(this);i.qTranslateInitMetabox(t);var n=t.find(".cmb-repeatable-group");n.length&&n.on("cmb2_add_row",i.initNewRow)}))})}(jQuery);
//# sourceMappingURL=main.js.map